<?php

echo "<meta charset='koi8-r'>";
$str = "маша_шадрина";
echo "<br>";
echo $str;
echo "<br>";

//$trans = array('а' => 'a', 'б' => 'b', 'в' => 'v', 'г'=>'g', 'д'=>'d', 'е'=> 'e', 'ё'=>'e', 'ж'=>'zh', 'з'=>'z', 'и'=>'i', 'й'=>'y', 'к'=>'k', 'л'=>'l', 'м'=>'m', 'н'=>'n', 'о'=>'o', 'п'=>'p',
//'р'=>'r', 'c'=>'s', 'т'=>'t', 'у'=>'u', 'ф'=>'f', 'х'=>'h', 'ц'=>'c', 'ч'=>'ch', 'ш'=>'sh', 'щ'=>'sch', 'ъ'=>'', 'ы'=>'i', 'ь'=>'ь', 'э'=>'e', 'ю'=>'yu', 'я'=>'ya');

//$trans = array('м' => 'm', 'б' => 'b', 'с'=>'s');


function translate($stroka)
{
$trans = array('а' => 'a', 'б' => 'b', 'в' => 'v', 'г'=>'g', 'д'=>'d', 'е'=> 'e', 'ё'=>'e', 'ж'=>'zh', 'з'=>'z',
'и'=>'i', 'й'=>'y', 'к'=>'k', 'л'=>'l', 'м'=>'m', 'н'=>'n', 'о'=>'o', 'п'=>'p', 'р'=>'r', 'c'=>'s', 'т'=>'t',
'у'=>'u', 'ф'=>'f', 'х'=>'h', 'ц'=>'c', 'ч'=>'ch', 'ш'=>'sh', 'щ'=>'sch', 'ъ'=>'', 'ы'=>'i', 'ь'=>'ь', 'э'=>'e', 'ю'=>'yu', 'я'=>'ya');

    foreach ($trans as $key => $item)
{

    if( $stroka == $key )
{
return $item;
}
//    else
//{
//return $item;
//}
}


}
//echo $str;


//translate($str);
//echo (translate('я'));
$t = (translate('щ'));
$t1 = (translate('у'));
//echo $t.$t1;
//echo "<br>";
//$str2="st";
//$str2=array("a" => "b");
//    foreach ($str2 as $key => $item)
//{
//$str2=translate($str);
//}

for ($i=0; $i < 17; $i++)
{
//echo (translate($str[$i]));
//echo "<br>";
//$str[$i]=translate($str[$i]);
$stroka=$stroka.(translate($str[$i]));
//echo "<br>";
}

echo $stroka;

?>